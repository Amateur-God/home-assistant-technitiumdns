![GitHub branch check runs](https://img.shields.io/github/check-runs/Amateur-God/home-assistant-technitiumdns/main?style=plastic)
![GitHub commit activity](https://img.shields.io/github/commit-activity/t/Amateur-God/home-assistant-technitiumdns?style=plastic)
![GitHub Issues or Pull Requests](https://img.shields.io/github/issues/Amateur-God/home-assistant-technitiumdns?style=plastic)
![GitHub Release](https://img.shields.io/github/v/release/Amateur-God/home-assistant-technitiumdns?display_name=release&style=plastic&label=stable%20Release)
![GitHub Release](https://img.shields.io/github/v/release/Amateur-God/home-assistant-technitiumdns?include_prereleases&display_name=release&style=plastic&label=Beta%20Release)



# technitiumDNS Integration for Home Assistant

This custom integration allows you to integrate technitiumDNS with Home Assistant, providing sensors for various DNS statistics.

## Installation

### Manual Installation

1. **Download the repository:**
   - Clone the repository or download the ZIP file.
    ```bash
    git clone https://github.com/Amateur-God/home-assistant-technitiumdns.git
    ```
2. **Copy to Home Assistant:**
   - Copy the `custom_components` directory into your Home Assistant configuration directory.
    ```bash
    cp -r home-assistant-technitiumdns/custom_components/technitiumdns /path/to/your/home-assistant/config/custom_components/
    ```

### HACS Installation

1. **Add Custom Repository:**
   - Go to HACS in your Home Assistant.
   - Click on "Integrations".
   - Click on the three dots in the upper right corner and select "Custom repositories".
   - Add the URL to this repository: https://github.com/Amateur-God/home-assistant-technitiumdns and select the category "Integration".

2. **Install the Integration:**
   - Find `technitiumDNS` in HACS and click "Install".

## Configuration

1. **Add the Integration:**
   - Go to Home Assistant Configuration > Integrations.
   - Click on the "+" button to add a new integration.
   - Search for `technitiumDNS` and follow the configuration steps.

2. **Configuration via `configuration.yaml`:**

   Add the following to your `configuration.yaml`:

   ```yaml
   technitiumdns:
     api_url: "http://your-technitiumdns-url:technitum-port"
     token: "your-api-token"
     server_name: "your-server-name"
     username: "your-username"
     stats_duration: "LastDay"  # Options are LastHour, LastDay, LastWeek, LastMonth
   ```

## Usage

This integration provides

Sensors for:

- Total Queries
- Blocked Queries
- Clients
- Top Clients
- Top Domains
- Top Blocked Domains
- Total No Error
- Total Server Failure
- Total NX Domain
- Total Refused
- Total Authoritative
- Total Recursive
- Total Cached
- Total Dropped
- Zones
- Cached Entries
- Allowed Zones
- Blocked Zones
- Allow List Zones
- Block List Zones
- Update Available

Switches for:

- Enable/disable Ad Blocking (will check current ad blocking state on initialization and set the switch to the correct position)

Buttons for:

- Temporarily disable ad blocking for:
   - 5 mins
   - 10 mins
   - 30 mins
   - 60 mins
   - 1 day

## Contributing

If you want to contribute to this project, feel free to fork the repository and submit a pull request. Issues and feature requests are also welcome.

## License

This project is licensed under the GPL 3.0 License. See the [LICENSE](LICENSE) file for details.

## Disclaimer

The non-English translations for this integration were generated by ChatGPT and may not be perfectly accurate. If you find any errors or improvements, please feel free to contribute.
